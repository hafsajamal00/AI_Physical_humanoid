# Quickstart: Adding Module 4 (VLA Capstone) to Docusaurus

**Feature**: 004-vla-module
**Purpose**: Step-by-step guide to integrate Module 4 content into existing book_frontend Docusaurus site

## Prerequisites

- Docusaurus 3.x already set up in `book_frontend/` (from Modules 1-3)
- @docusaurus/theme-mermaid plugin installed (from Module 2)
- Modules 1, 2, and 3 content already deployed
- Node.js and npm installed

## Step 1: Create Module 4 Directory Structure

```bash
cd book_frontend

# Create Module 4 docs directory
mkdir -p docs/module-4

# Create Module 4 static assets directory
mkdir -p static/img/module-4
```

**Expected Result**: New directories at `book_frontend/docs/module-4/` and `book_frontend/static/img/module-4/`

---

## Step 2: Create Module 4 Category Configuration

Create `book_frontend/docs/module-4/_category_.json`:

```json
{
  "label": "Module 4: Vision-Language-Action (VLA)",
  "position": 4,
  "link": {
    "type": "generated-index",
    "description": "Master voice control, LLM cognitive planning, and autonomous execution for humanoid robots. Capstone module integrating all prior concepts."
  }
}
```

**Expected Result**: Module 4 appears in sidebar after Modules 1-3 with capstone description

---

## Step 3: Create Chapter Placeholder Files

Create 3 chapter files with proper frontmatter:

**`book_frontend/docs/module-4/chapter-1-voice-to-action.md`**:
```markdown
---
sidebar_position: 1
---

# Chapter 1: Voice-to-Action with OpenAI Whisper

[Content will be written here following the contract]

## Coming Soon

This chapter will cover:
- Converting spoken commands to actionable instructions
- Audio processing and interpretation
- Linking voice outputs to ROS 2 action nodes
```

**`book_frontend/docs/module-4/chapter-2-llm-planning.md`**:
```markdown
---
sidebar_position: 2
---

# Chapter 2: Cognitive Planning with LLMs

[Content will be written here following the contract]

## Coming Soon

This chapter will cover:
- Translating natural language tasks into ROS 2 action sequences
- Planning and decision-making for autonomous robots
- Mapping tasks to robot perception and motion
```

**`book_frontend/docs/module-4/chapter-3-autonomous-execution.md`**:
```markdown
---
sidebar_position: 3
---

# Chapter 3: Capstone: Autonomous Humanoid Execution

[Content will be written here following the contract]

## Coming Soon

This chapter will cover:
- Combining voice recognition, cognitive planning, perception, and manipulation
- Path planning, obstacle navigation, and object interaction
- End-to-end autonomous execution workflow
- **Integration of all 4 modules (Capstone)**
```

**Expected Result**: 3 chapter pages accessible via sidebar

---

## Step 4: Update Intro Page to Reference Module 4

Edit `book_frontend/docs/intro.md`:

```markdown
## What You'll Learn

- **Module 1: ROS 2 Robotic Nervous System** - Understand ROS 2 as middleware for humanoid robots
- **Module 2: The Digital Twin (Gazebo & Unity)** - Learn simulation concepts for physics-accurate testing and visualization
- **Module 3: The AI-Robot Brain (NVIDIA Isaac™)** - Master advanced perception and navigation with Isaac Sim, Isaac ROS, and Nav2
- **Module 4: Vision-Language-Action (VLA)** - Integrate voice control, LLM planning, and autonomous execution (Capstone)
```

**Expected Result**: Intro page references all 4 modules with capstone indicator

---

## Step 5: Verify Sidebar Auto-Generation

Check `book_frontend/sidebars.js` configured for auto-generation (already set):

```javascript
module.exports = {
  tutorialSidebar: [
    {
      type: 'autogenerated',
      dirName: '.', // Auto-generates from docs/ directory
    },
  ],
};
```

**Expected Result**: Sidebar automatically includes Module 4

---

## Step 6: Test Navigation Locally

```bash
cd book_frontend
npm start
```

1. Open browser to `http://localhost:3000`
2. Verify Module 4 appears in sidebar after Modules 1-3
3. Click through all 3 chapters
4. Verify intro page mentions Module 4 as capstone

**Expected Result**: All navigation links work, no 404 errors

---

## Step 7: Build and Validate

```bash
cd book_frontend
npm run build
```

**Expected Result**: Build succeeds, Module 4 pages in `build/` directory

---

## Content Authoring Workflow (Capstone-Specific)

**Chapter 1 & 2**: Follow standard pattern (read contract, draft content, add diagrams, add references, validate)

**Chapter 3 (Capstone)**: Additional requirements:
1. **Read ALL Prior Modules**: Review Modules 1-3 to understand integration points
2. **Identify Cross-References**: Map VLA components to specific prior module chapters
3. **Create Integration Map**: Diagram showing how all 4 modules connect
4. **Write Integration Sections**: Explicit sections explaining each module integration
5. **End-to-End Example**: Detailed workflow demonstrating all modules working together
6. **Book Conclusion**: Summarize complete learning journey (Modules 1-4)

---

## Common Issues & Solutions

**Issue**: Module 4 doesn't appear in sidebar
- **Solution**: Check `_category_.json` has valid JSON, `position: 4` is unique

**Issue**: Capstone chapter missing module cross-references
- **Solution**: Verify Chapter 3 cites Modules 1-3, includes integration points, has 4-module diagram

**Issue**: Build fails with Mermaid syntax error
- **Solution**: Test diagrams at [Mermaid Live Editor](https://mermaid.live/), verify correct syntax

---

## Integration Checklist

Before deploying Module 4 (Capstone):

- [ ] All 3 chapter files created with frontmatter
- [ ] `_category_.json` configured with position: 4 and capstone description
- [ ] Intro page updated to mention Module 4 as capstone
- [ ] `npm run build` completes without errors
- [ ] All 3 chapters accessible via sidebar
- [ ] Mermaid diagrams render correctly
- [ ] External links return 200 OK
- [ ] **CAPSTONE SPECIFIC**: Chapter 3 references Modules 1-3
- [ ] **CAPSTONE SPECIFIC**: 4-module integration diagram present
- [ ] **CAPSTONE SPECIFIC**: End-to-end workflow example demonstrates all modules
- [ ] Cross-module navigation works (Module 1 → 2 → 3 → 4)

---

## Next Steps

After placeholder setup:

1. Run `/sp.tasks` to generate task breakdown for Module 4
2. Execute tasks following priority (P1: Voice, P2: LLM Planning, P3: Capstone)
3. Follow content contracts in `specs/004-vla-module/contracts/`
4. **For Chapter 3**: Allocate extra time for capstone integration (40-50 min vs. 30-40 for other chapters)

Module 4 capstone will complete the educational book's conceptual foundation for autonomous humanoid robotics!
